From 30ae551699a2e56e1238473c436f0c0c3c3af3c3 Mon Sep 17 00:00:00 2001
From: Eilo <eilo2518@gmail.com>
Date: Thu, 1 Mar 2012 13:46:21 -0500
Subject: [PATCH 26/27] =?UTF-8?q?1.26=20Pets=20focus=20regen=20apa=C3=B1ado?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 src/server/game/Entities/Pet/Pet.cpp |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

diff --git a/src/server/game/Entities/Pet/Pet.cpp b/src/server/game/Entities/Pet/Pet.cpp
index 6075085..9d059dc 100755
--- a/src/server/game/Entities/Pet/Pet.cpp
+++ b/src/server/game/Entities/Pet/Pet.cpp
@@ -537,6 +537,11 @@ void Pet::Update(uint32 diff)
                             Regenerate(POWER_FOCUS);
                             m_regenTimer += PET_FOCUS_REGEN_INTERVAL - diff;
                             if (!m_regenTimer) ++m_regenTimer;
+
+                            //  Fix for focus regen getting stuck
+                            if (m_regenTimer > PET_FOCUS_REGEN_INTERVAL)
+                                m_regenTimer = PET_FOCUS_REGEN_INTERVAL;
+
                             break;
                         // in creature::update
                         //case POWER_ENERGY:
-- 
1.7.8.msysgit.0

