From 8b484b88ab255ee757b1f4eff821be7d6bae12bb Mon Sep 17 00:00:00 2001
From: Eilo <eilo2518@gmail.com>
Date: Fri, 9 Mar 2012 21:55:40 -0500
Subject: [PATCH 34/38] 1.34 Spline algunos problemas con vehiculos y
 comportamiento

---
 src/server/game/Entities/Unit/Unit.cpp |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/src/server/game/Entities/Unit/Unit.cpp b/src/server/game/Entities/Unit/Unit.cpp
index 2766df8..9d351a3 100755
--- a/src/server/game/Entities/Unit/Unit.cpp
+++ b/src/server/game/Entities/Unit/Unit.cpp
@@ -391,7 +391,11 @@ void Unit::UpdateSplineMovement(uint32 t_diff)
         if (GetTypeId() == TYPEID_PLAYER)
             ((Player*)this)->UpdatePosition(loc.x,loc.y,loc.z,loc.orientation);
         else
+        {
             GetMap()->CreatureRelocation((Creature*)this,loc.x,loc.y,loc.z,loc.orientation);
+            if (IsVehicle())
+                GetVehicleKit()->RelocatePassengers(loc.x,loc.y,loc.z,loc.orientation);
+        }
     }
 }
 
-- 
1.7.8.msysgit.0

